(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[1],{141:function(e,t,n){},162:function(e,t,n){"use strict";n.r(t);var c,a,r=n(1),i=n.n(r),o=n(53),s=n.n(o),u=n(19),d=n(31),l=n(12),j=n(6),b=n(85),p=Object(l.d)("",Object(j.a)({},b.a,(function(e,t){return t.payload}))),f=n(38),h=n(96),O=n.n(h),x=n(17),g=Object(l.e)({name:"auth",initialState:{user:{name:null,email:null},token:null,isLoggedIn:!1,isLoading:!1,isFetchingCurrentUser:!1,error:""},extraReducers:(c={},Object(j.a)(c,x.d.fulfilled,(function(e,t){e.user=t.payload.user,e.token=t.payload.token,e.isLoggedIn=!0,e.isLoading=!1})),Object(j.a)(c,x.d.pending,(function(e,t){e.isLoggedIn=!1,e.isLoading=!0,e.error=""})),Object(j.a)(c,x.d.rejected,(function(e,t){e.isLoggedIn=!1,e.isLoading=!1,e.error=t.payload.message})),Object(j.a)(c,x.b.fulfilled,(function(e,t){e.user=t.payload.user,e.token=t.payload.token,e.isLoggedIn=!0,e.isLoading=!1})),Object(j.a)(c,x.b.pending,(function(e,t){e.isLoggedIn=!1,e.isLoading=!0,e.error=""})),Object(j.a)(c,x.b.rejected,(function(e,t){e.isLoggedIn=!1,e.isLoading=!1,e.error=t.payload.message})),Object(j.a)(c,x.c.fulfilled,(function(e,t){e.user={name:null,email:null},e.token=null,e.isLoggedIn=!1})),Object(j.a)(c,x.c.pending,(function(e,t){e.isLoggedIn=!1,e.isLoading=!0,e.error=""})),Object(j.a)(c,x.c.rejected,(function(e,t){e.isLoggedIn=!1,e.isLoading=!1,e.error=t.payload.message})),Object(j.a)(c,x.a.fulfilled,(function(e,t){e.user=t.payload,e.isLoggedIn=!0,e.isFetchingCurrentUser=!1})),Object(j.a)(c,x.a.pending,(function(e,t){e.isFetchingCurrentUser=!0,e.isLoggedIn=!1,e.isLoading=!0,e.error=""})),Object(j.a)(c,x.a.rejected,(function(e,t){e.isFetchingCurrentUser=!1,e.isLoggedIn=!1,e.isLoading=!1})),c)}),m=n(48),v=Object(l.e)({name:"contacts",initialState:{contact:{name:null,number:null},allContacts:[],token:null,isLoading:!1},extraReducers:(a={},Object(j.a)(a,m.c.pending,(function(e,t){e.isLoading=!0})),Object(j.a)(a,m.c.fulfilled,(function(e,t){e.allContacts=t.payload,e.token=t.payload.token,e.isLoading=!1})),Object(j.a)(a,m.a.fulfilled,(function(e,t){e.contact=t.payload,e.token=t.payload.token})),Object(j.a)(a,m.b.fulfilled,(function(e,t){e.contact=t.payload,e.token=t.payload.token})),a)}),k=Object(d.a)(Object(l.f)({serializableCheck:{ignoredActions:[f.a,f.f,f.b,f.c,f.d,f.e]}})),y={key:"auth",storage:O.a,whitelist:["token"],blacklist:["filtered"]},w=Object(l.a)({reducer:{contacts:v.reducer,auth:Object(f.g)(y,g.reducer),filtered:p},middleware:k,devTools:!1}),L=(Object(f.h)(w),n(30)),C=(n(141),n(21)),I=function(e){return e.auth.isLoggedIn},z=function(e){return e.auth.isFetchingCurrentUser},S=function(e){return e.auth.user.name},F=n(45),T=n(61),U=n(11),W=n(2),P=["children"];function V(e){var t=e.children,n=Object(T.a)(e,P),c=Object(u.c)(I);return Object(W.jsx)(U.b,Object(F.a)(Object(F.a)({},n),{},{children:c?t:Object(W.jsx)(U.a,{to:"/login"})}))}var A=["restricted","redirectTo","children"];function R(e){var t=e.restricted,n=void 0!==t&&t,c=e.redirectTo,a=e.children,r=Object(T.a)(e,A),i=Object(u.c)(I)&&n;return Object(W.jsx)(U.b,Object(F.a)(Object(F.a)({},r),{},{children:i?Object(W.jsx)(U.a,{exact:!0,to:c}):a}))}var B,E,H,J,M,D,q,G,K=n(13),N=n(20),Q=N.a.div(B||(B=Object(K.a)(["\n  display: flex;\n  align-items: flex-start;\n  width: 250px;\n  @media (max-width: 550px) {\n    flex-direction: column;\n    width: 80px;\n  }\n"]))),X=n(81),Y=n(193),Z=function(){var e=Object(u.c)(I);return Object(W.jsxs)(Q,{children:[Object(W.jsx)(L.c,{exact:!0,to:"/",children:Object(W.jsx)(Y.a,{size:"small",variant:"outlined",sx:{mr:1,mt:1},children:"Home"})}),e?Object(W.jsx)(L.c,{exact:!0,to:"/contacts",children:Object(W.jsx)(Y.a,{size:"small",variant:"outlined",sx:{mt:1},children:"Contacts"})}):Object(W.jsx)(L.c,{exact:!0,to:"/contacts",children:Object(W.jsxs)(Y.a,{size:"small",sx:{mt:1},children:["Contacts",Object(W.jsx)(X.a,{style:{marginLeft:5}})]})})]})},$=N.a.div(E||(E=Object(K.a)(["\n  width: 250px;\n  display: flex;\n  /* align-items: center; */\n  align-items: flex-end;\n  justify-content: end;\n  @media (max-width: 550px) {\n    flex-direction: column;\n    width: 80px;\n  }\n"]))),_=function(){return Object(W.jsxs)($,{children:[Object(W.jsx)(L.c,{to:"/login",children:Object(W.jsx)(Y.a,{size:"small",variant:"outlined",sx:{ml:1,mt:1,minWidth:72},children:"Log in"})}),Object(W.jsx)(L.c,{to:"/signup",children:Object(W.jsx)(Y.a,{size:"small",variant:"outlined",sx:{ml:1,mt:1},children:"Sign Up"})})]})},ee=N.a.div(H||(H=Object(K.a)(["\n  display: flex;\n  justify-content: space-between;\n  font-size: 16px;\n  width: 250px;\n  @media (max-width: 550px) {\n    font-size: 12px;\n    width: 80px;\n  }\n"]))),te=N.a.h2(J||(J=Object(K.a)(["\n  font-weight: 400;\n  @media (max-width: 550px) {\n    display: none;\n  }\n"]))),ne=N.a.span(M||(M=Object(K.a)(["\n  font-weight: 600;\n  font-size: 20px;\n  @media (max-width: 550px) {\n    font-size: 18px;\n  }\n"]))),ce=n(187),ae=function(){var e=Object(u.b)(),t=Object(u.c)(S);return Object(W.jsx)(ce.a,{children:Object(W.jsxs)(ee,{children:[Object(W.jsxs)(te,{children:["Online: ",Object(W.jsx)(ne,{children:t})]}),Object(W.jsx)(Y.a,{sx:{ml:1},size:"small",variant:"contained",type:"button",onClick:function(){return e(x.c())},children:"Log out"})]})})},re=N.a.header(D||(D=Object(K.a)(["\n  padding: 10px;\n  display: flex;\n  justify-content: space-around;\n  /* background-color: #ffffff3d; */\n  /* border-bottom: 1px solid #817e7e; */\n  box-shadow: 1px 3px 10px -4px #050505;\n  align-items: flex-end;\n"]))),ie=n(196),oe=n(101),se=n.n(oe),ue=n(100),de=n.n(ue),le=n(195),je=n(194),be=function(e){var t=e.onClick,n=e.theme,c=Object(u.c)(I);return Object(W.jsx)(ce.a,{children:Object(W.jsx)(je.a,{component:le.a,children:Object(W.jsxs)(re,{children:[Object(W.jsx)(Z,{}),Object(W.jsx)(ie.a,{onClick:t,children:"dark"===n.palette.mode?Object(W.jsx)(de.a,{}):Object(W.jsx)(se.a,{})}),c?Object(W.jsx)(ae,{}):Object(W.jsx)(_,{})]})})})},pe=n(40),fe=n(102),he=n.n(fe),Oe=N.a.div(q||(q=Object(K.a)(["\n  margin: 0;\n  padding: 0;\n  position: fixed;\n  top: 40%;\n  left: 47%;\n"]))),xe=function(){return Object(W.jsx)(Oe,{children:Object(W.jsx)(he.a,{type:"TailSpin",color:"#1976d2",height:46,width:46})})},ge=N.a.div(G||(G=Object(K.a)(["\n  margin: 0 auto;\n  max-width: 1080px;\n"]))),me=n.p+"static/media/bg-hd.eaf843ef.jpg",ve=n.p+"static/media/bg-hd-dark.1cf98b30.jpg",ke=n(103),ye=n(192),we=Object(r.lazy)((function(){return n.e(7).then(n.bind(null,239))})),Le=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(6),n.e(8)]).then(n.bind(null,236))})),Ce=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,240))})),Ie=Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,233))})),ze=function(){var e=Object(r.useState)(!1),t=Object(C.a)(e,2),n=t[0],c=t[1],a=Object(u.b)(),i=Object(u.c)(z);Object(r.useEffect)((function(){a(x.a())}),[a]);var o=Object(r.useMemo)((function(){return Object(ke.a)({palette:{mode:n?"dark":"light",background:{default:"#3b3939",paper:n?"#4c6362e0":"#fff"},primary:{main:n?"#c3cafc":"#478d95"},secondary:{main:"#b0eef76f"}}})}),[n]);return Object(W.jsx)(ge,{children:!i&&Object(W.jsxs)(ye.a,{theme:o,children:[Object(W.jsx)(pe.a,{position:"bottom-center"}),Object(W.jsx)(be,{onClick:function(){if(n)return c(!1),void(document.body.style.backgroundImage="url(".concat(me,")"));c(!0),document.body.style.backgroundImage="url(".concat(ve,")")},theme:o}),Object(W.jsx)(U.d,{children:Object(W.jsxs)(r.Suspense,{fallback:Object(W.jsx)(xe,{type:"TailSpin",height:26,width:26}),children:[Object(W.jsx)(R,{exact:!0,path:"/",children:Object(W.jsx)(we,{})}),Object(W.jsx)(R,{path:"/signup",restricted:!0,redirectTo:"/contacts",children:Object(W.jsx)(Ce,{})}),Object(W.jsx)(R,{path:"/login",restricted:!0,redirectTo:"/contacts",children:Object(W.jsx)(Ie,{})}),Object(W.jsx)(V,{path:"/contacts",children:Object(W.jsx)(Le,{})})]})})]})})},Se=function(e){e&&e instanceof Function&&n.e(9).then(n.bind(null,234)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};s.a.render(Object(W.jsx)(i.a.StrictMode,{children:Object(W.jsx)(u.a,{store:w,children:Object(W.jsx)(L.a,{children:Object(W.jsx)(ze,{})})})}),document.getElementById("root")),Se()},17:function(e,t,n){"use strict";n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return O}));var c=n(14),a=n.n(c),r=n(35),i=n(26),o=n.n(i),s=n(12),u=n(40),d=n(97),l=n(2);o.a.defaults.baseURL="https://connections-api.herokuapp.com/";var j=function(e){o.a.defaults.headers.common.Authorization="Bearer ".concat(e)},b=function(){o.a.defaults.headers.common.Authorization=""},p=Object(s.c)("auth/signup",function(){var e=Object(r.a)(a.a.mark((function e(t,n){var c,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.post("users/signup",t);case 3:return c=e.sent,r=c.data,j(r.token),u.b.success("Enjoy Phonebook App, ".concat(r.user.name)),e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),u.b.error(e.t0.message),e.abrupt("return",n.rejectWithValue(e.t0));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()),f=Object(s.c)("auth/login",function(){var e=Object(r.a)(a.a.mark((function e(t,n){var c,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.post("users/login",t);case 3:return c=e.sent,r=c.data,j(r.token),u.b.success("Wellcome back, ".concat(r.user.name)),e.abrupt("return",r);case 10:return e.prev=10,e.t0=e.catch(0),u.b.error(e.t0.message),e.abrupt("return",n.rejectWithValue(e.t0));case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()),h=Object(s.c)("auth/logout",function(){var e=Object(r.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.post("users/logout",t);case 3:b(),u.b.loading("Have a nice day!",{duration:3e3,icon:Object(l.jsx)(d.a,{})}),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",n.rejectWithValue(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()),O=Object(s.c)("auth/fetchCurrentUser",function(){var e=Object(r.a)(a.a.mark((function e(t,n){var c,r,i,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=n.getState(),null!==(r=c.auth.token)){e.next=4;break}return e.abrupt("return",n.rejectWithValue());case 4:return j(r),e.prev=5,e.next=8,o.a.get("users/current");case 8:return i=e.sent,s=i.data,e.abrupt("return",s);case 13:return e.prev=13,e.t0=e.catch(5),e.abrupt("return",n.rejectWithValue(e.t0));case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t,n){return e.apply(this,arguments)}}())},48:function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return l}));var c=n(14),a=n.n(c),r=n(35),i=n(26),o=n.n(i),s=n(12);o.a.defaults.baseURL="https://connections-api.herokuapp.com";var u=Object(s.c)("contacts/get-contacts",function(){var e=Object(r.a)(a.a.mark((function e(t){var n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.get("/contacts",t);case 3:return n=e.sent,c=n.data,e.abrupt("return",c);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),d=Object(s.c)("contacts/create-contact",function(){var e=Object(r.a)(a.a.mark((function e(t){var n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.post("/contacts",t);case 3:return n=e.sent,c=n.data,e.abrupt("return",c);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),l=Object(s.c)("contacts/delete-contact",function(){var e=Object(r.a)(a.a.mark((function e(t){var n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.delete("/contacts/".concat(t),t);case 3:return n=e.sent,c=n.data,e.abrupt("return",c);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}());Object(s.c)("contacts/update-contact",function(){var e=Object(r.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.patch("/contacts/".concat(t.id),t);case 3:e.next=7;break;case 5:e.prev=5,e.t0=e.catch(0);case 7:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}())},85:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var c=n(12),a=Object(c.b)("contacts/filtered")}},[[162,2,3]]]);
//# sourceMappingURL=main.37d57a0a.chunk.js.map